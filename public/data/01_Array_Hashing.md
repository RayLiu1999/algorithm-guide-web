# ä¸€ã€Array & Hashingï¼ˆé™£åˆ—èˆ‡é›œæ¹Šè¡¨ï¼‰

## é€šç”¨å¥—è·¯

**Hash Map åæŸ¥æ³•**ï¼šç•¶é¡Œç›®è¦ä½ ã€Œæ‰¾åˆ°æŸå€‹é…å°/ç›®æ¨™ã€ï¼Œç”¨ Hash Map æŠŠå·²ç¶“çœ‹éçš„å€¼å­˜èµ·ä¾†ï¼Œæ¯æ¬¡æ–°å…ƒç´ é€²ä¾†å°±æŸ¥è¡¨ï¼Œé”æˆ O(1) æŸ¥è©¢ã€‚

**Hash Set å»é‡æ³•**ï¼šéœ€è¦åˆ¤æ–·æ˜¯å¦å­˜åœ¨é‡è¤‡ã€æˆ–å¿«é€Ÿåˆ¤æ–·æŸå…ƒç´ æ˜¯å¦å‡ºç¾éã€‚

**è¨ˆæ•¸æ³• (Counter)**ï¼šçµ±è¨ˆæ¯å€‹å…ƒç´ å‡ºç¾çš„æ¬¡æ•¸ï¼Œå¸¸ç”¨æ–¼ Anagramã€Majority é¡å‹é¡Œã€‚

**å‰ç¶´å’Œ (Prefix Sum)**ï¼šéœ€è¦å¿«é€Ÿè¨ˆç®—å­é™£åˆ—çš„å’Œæ™‚ï¼Œå…ˆç®—å‡ºå‰ç¶´å’Œé™£åˆ—ï¼Œè®“ä»»æ„å€é–“å’Œè®Šæˆ O(1)ã€‚

```python
# å¥—è·¯æ¨¡æ¿ï¼šHash Map åæŸ¥
def two_sum_pattern(nums, target):
    seen = {}  # å€¼ â†’ ç´¢å¼•
    for i, num in enumerate(nums):
        complement = target - num
        if complement in seen:
            return [seen[complement], i]
        seen[num] = i

# å¥—è·¯æ¨¡æ¿ï¼šå‰ç¶´å’Œ + Hash Map
def prefix_sum_pattern(nums, k):
    count = 0
    prefix = 0
    seen = {0: 1}  # å‰ç¶´å’Œ â†’ å‡ºç¾æ¬¡æ•¸
    for num in nums:
        prefix += num
        if prefix - k in seen:
            count += seen[prefix - k]
        seen[prefix] = seen.get(prefix, 0) + 1
    return count
```

---

### 1. Two Sum (Easy)

- **å¥—è·¯**ï¼šHash Map åæŸ¥
- **æ€è·¯**ï¼šéæ­·é™£åˆ—ï¼Œå°æ¯å€‹æ•¸å­—ç®—å‡º `target - num`ï¼ŒæŸ¥ Hash Map æ˜¯å¦å·²å­˜åœ¨ã€‚å­˜åœ¨å°±æ‰¾åˆ°ç­”æ¡ˆï¼Œä¸å­˜åœ¨å°±æŠŠç•¶å‰æ•¸å­—å­˜å…¥ã€‚
- **ğŸ’¡ ç™½è©±æ–‡è§£èªª**ï¼šé€™å°±åƒä½ æƒ³æ‰¾å…©å¼µæ‹¼åœ–æ¹Šæˆå®Œæ•´çš„åœ–æ¡ˆã€‚èˆ‡å…¶æ¯æ¬¡æ‹¿è‘—ä¸€å¼µæ‹¼åœ–å»å’Œå‰©ä¸‹çš„æ¯”å°ï¼ˆå¤ªæ…¢äº†ï¼‰ï¼Œä¸å¦‚ä¸€é‚Šçœ‹ä¸€é‚ŠæŠŠçœ‹éçš„æ‹¼åœ–ç‰¹å¾µè¨˜åœ¨è…¦æµ·è£¡ï¼Œé€™æ¨£çœ‹åˆ°ä¸‹ä¸€å¼µæ™‚ï¼Œé¦¬ä¸Šå°±èƒ½çŸ¥é“å¦ä¸€åŠæœ‰æ²’æœ‰è¦‹éï¼
- **è¦é»**ï¼šä¸èƒ½ç”¨åŒä¸€å€‹å…ƒç´ å…©æ¬¡ï¼Œæ‰€ä»¥æ˜¯å…ˆæŸ¥å†å­˜ã€‚
- **è¤‡é›œåº¦**ï¼šO(n) / O(n)

```python
def twoSum(nums, target):
    seen = {}
    for i, num in enumerate(nums):
        if target - num in seen:
            return [seen[target - num], i]
        seen[num] = i
```

### 383. Ransom Note (Easy)

- **å¥—è·¯**ï¼šè¨ˆæ•¸æ³• (Counter)
- **æ€è·¯**ï¼šçµ±è¨ˆ `magazine` ä¸­æ¯å€‹å­—æ¯çš„æ•¸é‡ï¼Œç„¶å¾Œæª¢æŸ¥ `ransomNote` çš„æ¯å€‹å­—æ¯æ˜¯å¦éƒ½å¤ ç”¨ã€‚
- **ğŸ’¡ ç™½è©±æ–‡è§£èªª**ï¼šæƒ³åƒä½ æœ‰ä¸€å€‹å­—æ¯ç£éµç›¤ï¼ˆmagazineï¼‰ï¼Œä½ æƒ³æ‹¼å‡ºä¸€å¼µå‹’ç´¢ä¿¡ï¼ˆransomNoteï¼‰ã€‚ä½ å¾—ç¢ºä¿ä¿¡ä¸Šçš„æ¯å€‹å­—æ¯ï¼Œä½ åœ¨ç£éµç›¤è£¡éƒ½æœ‰è¶³å¤ çš„æ•¸é‡å¯ä»¥ç”¨ã€‚æˆ‘å€‘å…ˆæ•¸å¥½ç›¤å­è£¡æ¯å€‹å­—æ¯æœ‰å¹¾é¡†ï¼Œæ¯æ‹¼ä¸€å€‹å­—å°±æ‰£æ‰ä¸€é¡†ï¼Œä¸å¤ ç”¨çš„è©±è¨ˆç•«å°±å¤±æ•—å›‰ï¼
- **è¦é»**ï¼š`ransomNote` çš„æ¯å€‹å­—æ¯æ¶ˆè€—é‡ä¸èƒ½è¶…é `magazine` æä¾›çš„é‡ã€‚
- **è¤‡é›œåº¦**ï¼šO(n+m) / O(1)ï¼ˆå­—æ¯åªæœ‰ 26 å€‹ï¼‰

```python
from collections import Counter

def canConstruct(ransomNote, magazine):
    mag_count = Counter(magazine)
    for ch in ransomNote:
        if mag_count[ch] <= 0:
            return False
        mag_count[ch] -= 1
    return True
```

### 409. Longest Palindrome (Easy)

- **å¥—è·¯**ï¼šè¨ˆæ•¸æ³•
- **æ€è·¯**ï¼šå›æ–‡è¦æ±‚å­—æ¯æˆå°å‡ºç¾ã€‚çµ±è¨ˆæ¯å€‹å­—æ¯å‡ºç¾æ¬¡æ•¸ï¼Œæ¯å°å­—æ¯éƒ½èƒ½æ”¾é€²å›æ–‡ã€‚å¦‚æœæœ‰ä»»ä½•å­—æ¯å‰©é¤˜å¥‡æ•¸å€‹ï¼Œé‚„èƒ½æ”¾ä¸€å€‹åœ¨æ­£ä¸­é–“ã€‚
- **ğŸ’¡ ç™½è©±æ–‡è§£èªª**ï¼šæƒ³æ‹¼å‡ºæœ€é•·çš„å›æ–‡ï¼Œé—œéµåœ¨æ–¼ã€Œå­—æ¯è¦æˆå°å‡ºç¾ã€ã€‚æ ¹æ®çµ±è¨ˆï¼Œæ¯ä¸€å°å­—æ¯éƒ½èƒ½æ”¾é€²å›æ–‡ï¼ˆä¸€åä¸€ï¼‰ã€‚å¦‚æœå‰©äº†å¥‡æ•¸å€‹å­—æ¯ï¼Œé‚„èƒ½å°±å…¶ä¸­ä¸€å€‹æ”¾åœ¨æ­£ä¸­é–“ã€‚æ‰€ä»¥åªè¦æ•¸æ¸…æ¯å€‹å­—æ¯æœ‰å¹¾é¡ï¼Œçµ±è¨ˆé€™äº›ã€Œæˆå°çš„è²¢ç»ã€å°±æ˜¯ç­”æ¡ˆã€‚
- **è¦é»**ï¼šç­”æ¡ˆ = æ‰€æœ‰å¶æ•¸è²¢ç» + æœ€å¤šä¸€å€‹å¥‡æ•¸ä¸­å¿ƒã€‚
- **è¤‡é›œåº¦**ï¼šO(n) / O(1)

```python
from collections import Counter

def longestPalindrome(s):
    counts = Counter(s)
    length = 0
    has_odd = False
    for c in counts.values():
        length += c // 2 * 2  # å–å¶æ•¸éƒ¨åˆ†
        if c % 2 == 1:
            has_odd = True
    return length + (1 if has_odd else 0)
```

### 169. Majority Element (Easy)

- **å¥—è·¯**ï¼šBoyer-Moore æŠ•ç¥¨æ³•
- **æ€è·¯**ï¼šç¶­è­·ä¸€å€‹å€™é¸äººå’Œè¨ˆæ•¸ã€‚é‡åˆ°ç›¸åŒçš„ +1ï¼Œä¸åŒçš„ -1ï¼Œæ­¸é›¶å°±æ›äººã€‚æœ€å¾Œå‰©ä¸‹çš„å°±æ˜¯å¤šæ•¸å…ƒç´ ï¼ˆå› ç‚ºå®ƒä½”è¶…éä¸€åŠï¼‰ã€‚
- **ğŸ’¡ ç™½è©±æ–‡è§£èªª**ï¼šé€™å°±åƒæ˜¯ä¸€å ´ã€Œé™£ç‡Ÿå¤§äº‚é¬¥ã€ã€‚å¦‚æœæœ‰ä¸€å€‹æ—ç¾¤çš„äººæ•¸è¶…éä¸€åŠï¼Œé‚£å³ä½¿ä»–å€‘è·Ÿæ‰€æœ‰äººä¸€å°ä¸€åŒæ­¸æ–¼ç›¡ï¼Œæœ€å¾Œç•™ä¸‹ä¾†çš„ä¹Ÿä¸€å®šæ˜¯é€™å€‹æ—ç¾¤çš„äººï¼æˆ‘å€‘æ¯æ¬¡çœ‹åˆ°ä¸åŒçš„äººå°±æŠµéŠ·ï¼Œæœ€å¾Œå‰©ä¸‹çš„é‚£å€‹è‹±é›„å°±æ˜¯æˆ‘å€‘è¦æ‰¾çš„å¤§å¤šæ•¸ã€‚
- **è¦é»**ï¼šé€™å€‹æ–¹æ³•åªç”¨ O(1) ç©ºé–“ï¼Œæ¯” Counter æ›´å„ªã€‚
- **è¤‡é›œåº¦**ï¼šO(n) / O(1)

```python
def majorityElement(nums):
    candidate = None
    count = 0
    for num in nums:
        if count == 0:
            candidate = num
        count += 1 if num == candidate else -1
    return candidate
```

### 217. Contains Duplicate (Easy)

- **å¥—è·¯**ï¼šHash Set å»é‡
- **æ€è·¯**ï¼šæŠŠå…ƒç´ é€ä¸€åŠ å…¥ Setï¼Œå¦‚æœåŠ å…¥å‰å·²å­˜åœ¨å°±æ˜¯é‡è¤‡ã€‚æˆ–è€…ç›´æ¥æ¯”è¼ƒ `len(set(nums))` å’Œ `len(nums)`ã€‚
- **ğŸ’¡ ç™½è©±æ–‡è§£èªª**ï¼šå°±åƒæ˜¯åœ¨é–€å£æ”¾ä¸€å€‹é»åç°¿ã€‚æ¯é€²ä¾†ä¸€å€‹æ•¸å­—ï¼Œæˆ‘å€‘å°±å»ç°¿å­ä¸ŠæŸ¥æœ‰æ²’æœ‰äººä¾†éäº†ã€‚å¦‚æœå·²ç¶“åœ¨ç°¿å­ä¸Šï¼Œé‚£é€™å ´æ´¾å°å°±æœ‰é‡è¤‡çš„äººï¼›å¦‚æœé‚„æ²’å‡ºç¾éï¼Œå°±æŠŠä»–å¯«ä¸Šå»ã€‚é€™æ¨£åªè¦é€›å®Œä¸€éå°±èƒ½æŠ“å‡ºæœ‰æ²’æœ‰é‡è¤‡çš„äººã€‚
- **è¤‡é›œåº¦**ï¼šO(n) / O(n)

```python
def containsDuplicate(nums):
    return len(set(nums)) != len(nums)
```

### 242. Valid Anagram (Easy)

- **å¥—è·¯**ï¼šè¨ˆæ•¸æ³•
- **æ€è·¯**ï¼šå…©å€‹å­—ä¸²çš„å­—æ¯é »ç‡å®Œå…¨ç›¸åŒå°±æ˜¯ Anagramã€‚ç”¨ Counter æ¯”è¼ƒå³å¯ã€‚
- **ğŸ’¡ ç™½è©±æ–‡è§£èªª**ï¼šæƒ³çŸ¥é“å…©å€‹å­—æ˜¯ä¸æ˜¯ç”±åŒæ¨£çš„å­—æ¯çµ„æˆçš„ï¼Œæœ€ç°¡å–®çš„æ–¹æ³•å°±æ˜¯ã€Œé»åã€ã€‚æˆ‘å€‘å…ˆæŠŠç¬¬ä¸€å€‹å­—çš„æ¯å€‹å­—æ¯å‡ºç¾å¹¾æ¬¡æ•¸æ¸…æ¥šï¼Œç„¶å¾Œçœ‹ç¬¬äºŒå€‹å­—çš„å­—æ¯æ˜¯ä¸æ˜¯å‰›å¥½å¡«æ»¿é€™å¼µé»åè¡¨ï¼Œä¸å¤šä¸å°‘å‰›å‰›å¥½å°±æ˜¯ Anagramï¼
- **è¤‡é›œåº¦**ï¼šO(n) / O(1)

```python
from collections import Counter

def isAnagram(s, t):
    return Counter(s) == Counter(t)
```

### 121. Best Time to Buy and Sell Stock (Easy)

- **å¥—è·¯**ï¼šä¸€æ¬¡éæ­·è¿½è¹¤æœ€å°å€¼
- **æ€è·¯**ï¼šéæ­·åƒ¹æ ¼ï¼ŒæŒçºŒè¨˜éŒ„ã€Œåˆ°ç›®å‰ç‚ºæ­¢çš„æœ€ä½åƒ¹ã€ï¼Œæ¯å¤©ç®—ã€Œä»Šå¤©è³£æ‰çš„åˆ©æ½¤ã€ï¼Œå–æœ€å¤§å€¼ã€‚
- **ğŸ’¡ ç™½è©±æ–‡è§£èªª**ï¼šé€™å°±åƒæ˜¯ä½ æœ‰ä¸€å¼µæœªä¾†çš„è‚¡åƒ¹æ¸…å–®ã€‚ä½ æƒ³çŸ¥é“å¦‚æœä½ ã€Œå“ªä¸€å¤©è²·é€²ã€å“ªä¸€å¤©è³£å‡ºã€èƒ½è³ºæœ€å¤šï¼ˆä½†è²·ä¸€å®šè¦åœ¨è³£ä¹‹å‰ï¼‰ã€‚ä½ åªè¦ä¸€é‚Šçœ‹è‚¡åƒ¹ï¼Œä¸€é‚Šè¨˜ä¸‹ã€Œåˆ°ç›®å‰ç‚ºæ­¢çœ‹éçš„æœ€ä½åƒ¹ã€ï¼Œç„¶å¾Œæ¯å¤©ç®—ä¸€ä¸‹ã€Œå¦‚æœä»Šå¤©è³£æ‰èƒ½è³ºå¤šå°‘ã€ï¼Œæœ€å¾Œé‚£å€‹æœ€é«˜ç´€éŒ„å°±æ˜¯ç­”æ¡ˆã€‚
- **è¦é»**ï¼šä¸èƒ½ç”¨æœªä¾†çš„ä½åƒ¹è²·ã€éå»çš„é«˜åƒ¹è³£ï¼Œæ‰€ä»¥åªèƒ½å¾€å‰çœ‹ã€‚
- **è¤‡é›œåº¦**ï¼šO(n) / O(1)

```python
def maxProfit(prices):
    min_price = float('inf')
    max_profit = 0
    for price in prices:
        min_price = min(min_price, price)
        max_profit = max(max_profit, price - min_price)
    return max_profit
```

### 238. Product of Array Except Self (Med.)

- **å¥—è·¯**ï¼šå‰ç¶´ç© + å¾Œç¶´ç©
- **æ€è·¯**ï¼šå°æ¯å€‹ä½ç½® iï¼Œç­”æ¡ˆ = å·¦é‚Šæ‰€æœ‰æ•¸çš„ä¹˜ç© Ã— å³é‚Šæ‰€æœ‰æ•¸çš„ä¹˜ç©ã€‚å…ˆå¾å·¦åˆ°å³ç®—å‰ç¶´ç©ï¼Œå†å¾å³åˆ°å·¦ä¹˜ä¸Šå¾Œç¶´ç©ã€‚
- **è¦é»**ï¼šä¸èƒ½ç”¨é™¤æ³•ï¼ˆé¡Œç›®é™åˆ¶ï¼‰ï¼Œç”¨å…©æ¬¡éæ­·è§£æ±ºã€‚
- **è¤‡é›œåº¦**ï¼šO(n) / O(1)ï¼ˆè¼¸å‡ºé™£åˆ—ä¸ç®—é¡å¤–ç©ºé–“ï¼‰

```python
def productExceptSelf(nums):
    n = len(nums)
    result = [1] * n
    # å¾å·¦åˆ°å³ï¼šresult[i] = nums[0] * ... * nums[i-1]
    prefix = 1
    for i in range(n):
        result[i] = prefix
        prefix *= nums[i]
    # å¾å³åˆ°å·¦ï¼šå†ä¹˜ä¸Š nums[i+1] * ... * nums[n-1]
    suffix = 1
    for i in range(n - 1, -1, -1):
        result[i] *= suffix
        suffix *= nums[i]
    return result
```

### 49. Group Anagrams (Med.)

- **å¥—è·¯**ï¼šHash Map åˆ†çµ„
- **æ€è·¯**ï¼šAnagram æ’åºå¾Œçš„çµæœç›¸åŒã€‚æŠŠæ’åºå¾Œçš„å­—ä¸²ç•¶ keyï¼ŒåŸå§‹å­—ä¸²æ”¶é›†åˆ°åŒä¸€çµ„ã€‚
- **ğŸ’¡ ç™½è©±æ–‡è§£èªª**ï¼šAnagram å°±æ˜¯ã€Œå­—æ¯çµ„æˆå®Œå…¨ä¸€æ¨£ï¼Œåªæ˜¯é †åºä¸åŒã€çš„å­—ä¸²ã€‚æˆ‘å€‘æŠŠæ¯å€‹å­—ä¸²æ‹¿å»ã€ŒæŒ‰å­—æ¯æ’åºã€ï¼Œé€™æ¨£åªè¦æ˜¯åŒä¸€çµ„çš„ï¼Œæ’åºå®Œé•·å¾—éƒ½ä¸€æ¨¡ä¸€æ¨£ï¼æˆ‘å€‘å°±æŠŠé€™äº›é•·å¾—ä¸€æ¨£çš„æ±è¥¿ä¸Ÿé€²åŒä¸€å€‹ç±ƒå­è£¡æ”¶é›†èµ·ä¾†å°±å¥½ã€‚
- **è¤‡é›œåº¦**ï¼šO(nÂ·kÂ·log k) / O(nÂ·k)ï¼Œk ç‚ºå­—ä¸²é•·åº¦

```python
from collections import defaultdict

def groupAnagrams(strs):
    groups = defaultdict(list)
    for s in strs:
        key = tuple(sorted(s))  # æ’åºç•¶ key
        groups[key].append(s)
    return list(groups.values())
```

### 53. Maximum Subarray (Med.)

- **å¥—è·¯**ï¼šKadane's Algorithm
- **æ€è·¯**ï¼šç¶­è­·ã€Œä»¥ç•¶å‰å…ƒç´ çµå°¾çš„æœ€å¤§å­é™£åˆ—å’Œã€ã€‚æ¯åˆ°ä¸€å€‹æ–°å…ƒç´ ï¼Œè¦å˜›æ¥çºŒå‰é¢çš„å­é™£åˆ—ï¼ˆå‰é¢çš„å’Œ + ç•¶å‰å€¼ï¼‰ï¼Œè¦å˜›å¾è‡ªå·±é‡æ–°é–‹å§‹ï¼ˆç•¶å‰å€¼ï¼‰ï¼Œå–è¼ƒå¤§çš„é‚£å€‹ã€‚
- **è¦é»**ï¼šé—œéµæ±ºç­–æ˜¯ã€Œè¦ä¸è¦ç¹¼æ‰¿å‰é¢çš„å­é™£åˆ—ã€ã€‚å¦‚æœå‰é¢çš„å’Œæ˜¯è² æ•¸ï¼Œä¸å¦‚æ‹‹æ£„é‡ä¾†ã€‚
- **è¤‡é›œåº¦**ï¼šO(n) / O(1)

```python
def maxSubArray(nums):
    current_sum = max_sum = nums[0]
    for num in nums[1:]:
        current_sum = max(num, current_sum + num)
        max_sum = max(max_sum, current_sum)
    return max_sum
```

### 525. Contiguous Array (Med.)

- **å¥—è·¯**ï¼šå‰ç¶´å’Œ + Hash Map
- **æ€è·¯**ï¼šæŠŠ 0 è¦–ç‚º -1ï¼Œå•é¡Œè®Šæˆã€Œæ‰¾æœ€é•·çš„å­é™£åˆ—ä½¿å¾—å’Œç‚º 0ã€ã€‚ç”¨å‰ç¶´å’Œ + Hash Map è¨˜éŒ„æ¯å€‹å‰ç¶´å’Œç¬¬ä¸€æ¬¡å‡ºç¾çš„ä½ç½®ï¼Œç•¶åŒä¸€å€‹å‰ç¶´å’Œå†æ¬¡å‡ºç¾æ™‚ï¼Œä¸­é–“çš„å­é™£åˆ—å’Œç‚º 0ã€‚
- **ğŸ’¡ ç™½è©±æ–‡è§£èªª**ï¼šæˆ‘å€‘æŠŠ 0 å‡è£æˆ -1ï¼Œè®“é€™é¡Œè®Šæˆã€Œæ‰¾æœ€é•·å­é™£åˆ—ä½¿å¾—å’Œç‚º 0ã€ã€‚é‡é»æ˜¯ï¼šå¦‚æœåŒä¸€å€‹å‰ç¶´å’Œåœ¨ä¸åŒä½ç½®å†æ¬¡å‡ºç¾ï¼Œå°±ä»£è¡¨å…©å€‹ä½ç½®ä¹‹é–“çš„å­é™£åˆ—å’Œç‚º 0ï¼ˆå³ 0 å’Œ 1 çš„æ•¸é‡ç›¸åŒï¼‰ã€‚æˆ‘å€‘ç´€éŒ„æ¯å€‹å‰ç¶´å’Œç¬¬ä¸€æ¬¡å‡ºç¾çš„æœ€å·¦ä½ç½®ï¼Œç•¶å†æ¬¡çŸ‡åˆ°ç›¸åŒå…ƒç´ å°±èƒ½ç®—å‡ºå€é–“é•·åº¦ã€‚
- **è¤‡é›œåº¦**ï¼šO(n) / O(n)

```python
def findMaxLength(nums):
    prefix = 0
    seen = {0: -1}  # å‰ç¶´å’Œ â†’ æœ€æ—©å‡ºç¾çš„ç´¢å¼•
    max_len = 0
    for i, num in enumerate(nums):
        prefix += 1 if num == 1 else -1
        if prefix in seen:
            max_len = max(max_len, i - seen[prefix])
        else:
            seen[prefix] = i
    return max_len
```

### 560. Subarray Sum Equals K (Med.)

- **å¥—è·¯**ï¼šå‰ç¶´å’Œ + Hash Map
- **æ€è·¯**ï¼šèˆ‡ä¸Šé¡Œé¡ä¼¼ã€‚å‰ç¶´å’Œ prefix[i] - prefix[j] = k ä»£è¡¨ j+1 åˆ° i çš„å­é™£åˆ—å’Œç‚º kã€‚ç”¨ Hash Map è¨˜éŒ„æ¯å€‹å‰ç¶´å’Œå‡ºç¾çš„æ¬¡æ•¸ã€‚
- **è¤‡é›œåº¦**ï¼šO(n) / O(n)

```python
def subarraySum(nums, k):
    count = 0
    prefix = 0
    seen = {0: 1}
    for num in nums:
        prefix += num
        if prefix - k in seen:
            count += seen[prefix - k]
        seen[prefix] = seen.get(prefix, 0) + 1
    return count
```

### 128. Longest Consecutive Sequence (Med.)

- **å¥—è·¯**ï¼šHash Set + åªå¾èµ·é»é–‹å§‹è¨ˆæ•¸
- **æ€è·¯**ï¼šæŠŠæ‰€æœ‰æ•¸å­—æ”¾å…¥ Setã€‚å°æ¯å€‹æ•¸å­—ï¼Œå¦‚æœ `num - 1` ä¸åœ¨ Set ä¸­ï¼Œä»£è¡¨å®ƒæ˜¯æŸå€‹é€£çºŒåºåˆ—çš„èµ·é»ï¼Œå¾å®ƒé–‹å§‹å¾€ä¸Šæ•¸çœ‹èƒ½é€£çºŒå¤šé•·ã€‚
- **è¦é»**ï¼šã€Œåªå¾èµ·é»é–‹å§‹ã€é€™å€‹åˆ¤æ–·ç¢ºä¿æ¯å€‹æ•¸å­—æœ€å¤šè¢«è¨ªå•å…©æ¬¡ï¼Œä¿æŒ O(n)ã€‚
- **è¤‡é›œåº¦**ï¼šO(n) / O(n)

```python
def longestConsecutive(nums):
    num_set = set(nums)
    best = 0
    for num in num_set:
        if num - 1 not in num_set:  # åªæœ‰èµ·é»æ‰å¾€ä¸‹æ•¸
            length = 1
            while num + length in num_set:
                length += 1
            best = max(best, length)
    return best
```

### 8. String to Integer - atoi (Med.)

- **å¥—è·¯**ï¼šé€å­—å…ƒæ¨¡æ“¬
- **æ€è·¯**ï¼šè·³éç©ºç™½ â†’ åˆ¤æ–·æ­£è² è™Ÿ â†’ é€ä¸€è®€å–æ•¸å­—å­—å…ƒ â†’ æº¢ä½æª¢æŸ¥ã€‚
- **ğŸ’¡ ç™½è©±æ–‡è§£èªª**ï¼šé€™é¡Œå°±æ˜¯è€ƒä½ æ€éº¼æŠŠå­—ä¸²è®Šæˆæ•¸å­—ã€‚é‡é»æ˜¯æŒ‰éƒ¨å°±ç­ï¼šå…ˆå¿½ç•¥å‰é¢çš„ç©ºç™½ï¼Œå†çœ‹æ­£è² è™Ÿï¼Œç„¶å¾ŒæŠŠé€£çºŒçš„æ•¸å­—è½‰å‡ºä¾†ï¼Œé‡åˆ°ä¸æ˜¯æ•¸å­—çš„å­—å…ƒå°±åœã€‚æœ€å¾Œè¨˜å¾—æª¢æŸ¥æœ‰æ²’æœ‰è¶…é 32 ä½å…ƒæ•´æ•¸çš„æ¥µé™ã€‚
- **è¦é»**ï¼šæº¢ä½è™•ç†æ˜¯é—œéµï¼Œè¶…é 32-bit ç¯„åœå°±æˆªæ–·ã€‚
- **è¤‡é›œåº¦**ï¼šO(n) / O(1)

```python
def myAtoi(s):
    s = s.lstrip()  # å»å‰å°ç©ºç™½
    if not s:
        return 0
    sign = 1
    i = 0
    if s[0] in ('+', '-'):
        sign = -1 if s[0] == '-' else 1
        i = 1
    result = 0
    while i < len(s) and s[i].isdigit():
        result = result * 10 + int(s[i])
        i += 1
    result *= sign
    # æˆªæ–·åˆ° 32-bit ç¯„åœ
    return max(-2**31, min(2**31 - 1, result))
```

### 54. Spiral Matrix (Med.)

- **å¥—è·¯**ï¼šé‚Šç•Œæ¨¡æ“¬ï¼ˆä¸Šä¸‹å·¦å³å››æ¢é‚Šç•Œï¼‰
- **æ€è·¯**ï¼šè¨­å®š top/bottom/left/right å››å€‹é‚Šç•Œï¼ŒæŒ‰ã€Œå³â†’ä¸‹â†’å·¦â†’ä¸Šã€é †åºèµ°ï¼Œæ¯èµ°å®Œä¸€é‚Šå°±æ”¶ç¸®å°æ‡‰é‚Šç•Œã€‚
- **ğŸ’¡ ç™½è©±æ–‡è§£èªª**ï¼šå°±åƒä½ åœ¨èµ°è¿·å®®ï¼Œä½†é€™å€‹è¿·å®®æ˜¯èºæ—‹ç‹€çš„ã€‚ä½ å…ˆä¸€ç›´å¾€å³èµ°ï¼Œæ’åˆ°ç‰†å°±å¾€ä¸‹è½‰ï¼›å¾€ä¸‹æ’åˆ°ç‰†å°±å¾€å·¦è½‰ï¼›å¾€å·¦æ’åˆ°ç‰†å°±å¾€ä¸Šè½‰...æ¯æ¬¡è½‰å½å¾Œéƒ½è¦æŠŠå‰›èµ°éçš„é‚£æ’ã€Œæ‹†æ‰ã€ï¼Œé€™æ¨£èµ°ä¸‹å»å°±ä¸æœƒé‡è¤‡ï¼Œæœ€å¾Œå°±èƒ½èµ°å®Œæ‰€æœ‰çš„æ ¼å­ã€‚
- **è¤‡é›œåº¦**ï¼šO(mÂ·n) / O(1)

```python
def spiralOrder(matrix):
    result = []
    top, bottom = 0, len(matrix) - 1
    left, right = 0, len(matrix[0]) - 1
    while top <= bottom and left <= right:
        for col in range(left, right + 1):      # â†’ å³
            result.append(matrix[top][col])
        top += 1
        for row in range(top, bottom + 1):       # â†“ ä¸‹
            result.append(matrix[row][right])
        right -= 1
        if top <= bottom:
            for col in range(right, left - 1, -1):  # â† å·¦
                result.append(matrix[bottom][col])
            bottom -= 1
        if left <= right:
            for row in range(bottom, top - 1, -1):  # â†‘ ä¸Š
                result.append(matrix[row][left])
            left += 1
    return result
```

### 48. Rotate Image (Med.)

- **å¥—è·¯**ï¼šçŸ©é™£è½‰ç½® + æ°´å¹³ç¿»è½‰
- **æ€è·¯**ï¼šé †æ™‚é‡æ—‹è½‰ 90Â° = å…ˆæ²¿ä¸»å°è§’ç·šè½‰ç½®ï¼Œå†å·¦å³ç¿»è½‰æ¯ä¸€è¡Œã€‚
- **ğŸ’¡ ç™½è©±æ–‡è§£èªª**ï¼šè¦æŠŠåœ–ç‰‡é †æ™‚é‡æ—‹è½‰ 90 åº¦ï¼Œå…¶å¯¦æœ‰ä¸€å€‹æ•¸å­¸å°é­”è¡“ï¼šå…ˆæŠŠå®ƒã€Œä¸Šä¸‹ç¿»è½‰ã€ï¼ˆæˆ–è€…æ²¿è‘—å°è§’ç·šç¿»è½‰ï¼‰ï¼Œç„¶å¾Œå†æŠŠæ¯ä¸€è¡Œã€Œå·¦å³ç¿»è½‰ã€ï¼Œçµæœå°±æœƒå‰›å¥½æ˜¯æ—‹è½‰ 90 åº¦çš„æ¨£å­ï¼é€™æ¨£å°±ä¸ç”¨å»ç®—è¤‡é›œçš„åº§æ¨™è®Šæ›äº†ã€‚
- **è¤‡é›œåº¦**ï¼šO(nÂ²) / O(1)ï¼ˆåŸåœ°æ“ä½œï¼‰

```python
def rotate(matrix):
    n = len(matrix)
    # æ­¥é©Ÿ 1ï¼šè½‰ç½®ï¼ˆæ²¿ä¸»å°è§’ç·šç¿»è½‰ï¼‰
    for i in range(n):
        for j in range(i + 1, n):
            matrix[i][j], matrix[j][i] = matrix[j][i], matrix[i][j]
    # æ­¥é©Ÿ 2ï¼šæ°´å¹³ç¿»è½‰æ¯ä¸€è¡Œ
    for row in matrix:
        row.reverse()
```

### 73. Set Matrix Zeroes (Med.)

- **å¥—è·¯**ï¼šç”¨ç¬¬ä¸€è¡Œ/ç¬¬ä¸€åˆ—ç•¶æ¨™è¨˜
- **æ€è·¯**ï¼šå¦‚æœæŸæ ¼ç‚º 0ï¼Œå°±åœ¨å®ƒæ‰€åœ¨çš„ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—åšæ¨™è¨˜ã€‚æœ€å¾Œæ ¹æ“šæ¨™è¨˜æŠŠæ•´è¡Œæ•´åˆ—æ­¸é›¶ã€‚
- **ğŸ’¡ ç™½è©±æ–‡è§£èªª**ï¼šå¦‚æœä½ æ‰¾åˆ°ä¸€å€‹ 0ï¼Œä½ å°±å¿…é ˆæŠŠé‚£ä¸€æ•´è¡Œå’Œä¸€æ•´åˆ—éƒ½è®Šæˆ 0ã€‚ç‚ºäº†é¿å…ã€Œå¾Œé¢æ‰è¢«è®Šæˆ 0 çš„æ ¼å­ã€èª¤å°æˆ‘å€‘ï¼Œæˆ‘å€‘å¯ä»¥ç›´æ¥ç”¨çŸ©é™£çš„ã€Œç¬¬ä¸€åˆ—ã€å’Œã€Œç¬¬ä¸€è¡Œã€ç•¶ä½œè¨˜äº‹æœ¬ï¼Œç”¨ä¾†æ¨™è¨˜é€™è¡Œ/é€™åˆ—æœªä¾†éœ€ä¸éœ€è¦è®Šæˆ 0ã€‚
- **è¦é»**ï¼šç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—æœ¬èº«çš„ 0 éœ€è¦é¡å¤–è®Šæ•¸è¨˜éŒ„ã€‚
- **è¤‡é›œåº¦**ï¼šO(mÂ·n) / O(1)

```python
def setZeroes(matrix):
    m, n = len(matrix), len(matrix[0])
    first_row_zero = any(matrix[0][j] == 0 for j in range(n))
    first_col_zero = any(matrix[i][0] == 0 for i in range(m))
    # ç”¨ç¬¬ä¸€è¡Œ/åˆ—æ¨™è¨˜
    for i in range(1, m):
        for j in range(1, n):
            if matrix[i][j] == 0:
                matrix[i][0] = 0
                matrix[0][j] = 0
    # æ ¹æ“šæ¨™è¨˜æ­¸é›¶
    for i in range(1, m):
        for j in range(1, n):
            if matrix[i][0] == 0 or matrix[0][j] == 0:
                matrix[i][j] = 0
    if first_row_zero:
        for j in range(n):
            matrix[0][j] = 0
    if first_col_zero:
        for i in range(m):
            matrix[i][0] = 0
```

### 75. Sort Colors (Med.)

- **å¥—è·¯**ï¼šä¸‰æŒ‡æ¨™åŸåœ°åˆ†å€ï¼ˆDutch National Flagï¼‰
- **æ€è·¯**ï¼šç¶­è­·ä¸‰å€‹æŒ‡æ¨™ low/mid/highã€‚mid é‡åˆ° 0 å°±å’Œ low äº¤æ›å¾€å·¦æ”¾ï¼Œé‡åˆ° 2 å°±å’Œ high äº¤æ›å¾€å³æ”¾ï¼Œé‡åˆ° 1 ä¸å‹•ã€‚
- **è¤‡é›œåº¦**ï¼šO(n) / O(1)

```python
def sortColors(nums):
    low, mid, high = 0, 0, len(nums) - 1
    while mid <= high:
        if nums[mid] == 0:
            nums[low], nums[mid] = nums[mid], nums[low]
            low += 1
            mid += 1
        elif nums[mid] == 1:
            mid += 1
        else:
            nums[mid], nums[high] = nums[high], nums[mid]
            high -= 1
```

### 136. Single Number (Easy)

- **å¥—è·¯**ï¼šXOR ä½å…ƒé‹ç®—
- **æ€è·¯**ï¼šXOR çš„ç‰¹æ€§ï¼ša ^ a = 0, a ^ 0 = aã€‚æ‰€æœ‰æˆå°çš„æ•¸å­—äº’ç›¸æŠµæ¶ˆï¼Œæœ€å¾Œå‰©ä¸‹çš„å°±æ˜¯å”¯ä¸€çš„å–®ç¨æ•¸å­—ã€‚
- **è¤‡é›œåº¦**ï¼šO(n) / O(1)

```python
def singleNumber(nums):
    result = 0
    for num in nums:
        result ^= num
    return result
```

### 179. Largest Number (Med.)

- **å¥—è·¯**ï¼šè‡ªè¨‚æ’åº
- **æ€è·¯**ï¼šæŠŠæ•¸å­—è½‰å­—ä¸²å¾Œè‡ªè¨‚æ’åºè¦å‰‡ï¼šæ¯”è¼ƒ a+b å’Œ b+a å“ªå€‹æ‹¼èµ·ä¾†æ›´å¤§ã€‚
- **è¦é»**ï¼šæ³¨æ„å…¨é›¶çš„æƒ…æ³ï¼ˆä¾‹å¦‚ [0, 0]â†’ "0"ï¼‰ã€‚
- **è¤‡é›œåº¦**ï¼šO(nÂ·log n) / O(n)

```python
from functools import cmp_to_key

def largestNumber(nums):
    strs = [str(n) for n in nums]
    strs.sort(key=cmp_to_key(lambda a, b: (1 if a+b < b+a else -1)))
    result = ''.join(strs)
    return '0' if result[0] == '0' else result
```

### 189. Rotate Array (Med.)

- **å¥—è·¯**ï¼šä¸‰æ¬¡ç¿»è½‰
- **æ€è·¯**ï¼šå³æ—‹ k æ­¥ = å…ˆæ•´é«”ç¿»è½‰ï¼Œå†ç¿»è½‰å‰ k å€‹ï¼Œå†ç¿»è½‰å¾Œé¢çš„ã€‚
- **è¤‡é›œåº¦**ï¼šO(n) / O(1)

```python
def rotate(nums, k):
    k %= len(nums)
    nums.reverse()
    nums[:k] = nums[:k][::-1]
    nums[k:] = nums[k:][::-1]
```

### 41. First Missing Positive (Hard)

- **å¥—è·¯**ï¼šåŸåœ°é›œæ¹Šï¼ˆæŠŠæ•¸å­—æ”¾åˆ°å°æ‡‰ç´¢å¼•ä½ç½®ï¼‰
- **æ€è·¯**ï¼šé•·åº¦ç‚º n çš„é™£åˆ—ï¼Œç­”æ¡ˆä¸€å®šåœ¨ 1~n+1 ä¹‹é–“ã€‚æŠŠæ•¸å­— x æ”¾åˆ° index x-1 çš„ä½ç½®ï¼Œæœ€å¾Œæƒä¸€éæ‰¾ç¬¬ä¸€å€‹ nums[i] != i+1 çš„ä½ç½®ã€‚
- **ğŸ’¡ ç™½è©±æ–‡è§£èªª**ï¼šæƒ³åƒä½ åœ¨å¹«ä¸€å †äº‚æ‰çš„çƒè¡£ï¼ˆè™Ÿç¢¼ 1~Nï¼‰æ’ä½å­ã€‚æœ€å¥½çš„æ’æ³•å°±æ˜¯è®“ 1 è™Ÿçƒè¡£ååœ¨ç¬¬ä¸€å€‹ä½å­ã€2 è™Ÿååœ¨ç¬¬äºŒå€‹...ä¾æ­¤é¡æ¨ã€‚æˆ‘å€‘æŠŠçƒè¡£ç›¡é‡æ­¸ä½å¾Œï¼Œå¾é ­æª¢æŸ¥èª°çš„ä½å­ä¸ŠåéŒ¯äººäº†ï¼Œç¬¬ä¸€å€‹éŒ¯ä½çš„å°±æ˜¯æˆ‘å€‘è¦æ‰¾çš„ã€Œå¤±è¹¤äººå£ã€ã€‚
- **è¤‡é›œåº¦**ï¼šO(n) / O(1)

```python
def firstMissingPositive(nums):
    n = len(nums)
    for i in range(n):
        while 1 <= nums[i] <= n and nums[nums[i] - 1] != nums[i]:
            # æŠŠ nums[i] æ”¾åˆ°æ­£ç¢ºä½ç½®
            correct = nums[i] - 1
            nums[i], nums[correct] = nums[correct], nums[i]
    for i in range(n):
        if nums[i] != i + 1:
            return i + 1
    return n + 1
```

### 271. Encode and Decode Strings (Med.)

- **å¥—è·¯**ï¼šé•·åº¦å‰ç¶´ç·¨ç¢¼
- **æ€è·¯**ï¼šç·¨ç¢¼æ™‚åœ¨æ¯å€‹å­—ä¸²å‰åŠ ä¸Šã€Œé•·åº¦ + åˆ†éš”ç¬¦ã€ï¼Œè§£ç¢¼æ™‚æŒ‰é•·åº¦ä¾†åˆ‡å‰²ã€‚
- **è¤‡é›œåº¦**ï¼šO(n) / O(1)

```python
def encode(strs):
    return ''.join(f'{len(s)}#{s}' for s in strs)

def decode(s):
    result = []
    i = 0
    while i < len(s):
        j = s.index('#', i)        # æ‰¾åˆ†éš”ç¬¦ä½ç½®
        length = int(s[i:j])       # è®€å–é•·åº¦
        result.append(s[j+1:j+1+length])
        i = j + 1 + length
    return result
```

### 380. Insert Delete GetRandom O(1) (Med.)

- **å¥—è·¯**ï¼šHash Map + å‹•æ…‹é™£åˆ—
- **æ€è·¯**ï¼šç”¨ list å­˜å€¼ï¼ˆæ”¯æŒ randomï¼‰ï¼Œç”¨ dict å­˜ã€Œå€¼ â†’ ç´¢å¼•ã€ï¼ˆæ”¯æŒ O(1) æŸ¥æ‰¾ï¼‰ã€‚åˆªé™¤æ™‚æŠŠç›®æ¨™èˆ‡æœ€å¾Œä¸€å€‹å…ƒç´ äº¤æ›å† popï¼Œä¿æŒ O(1)ã€‚
- **è¤‡é›œåº¦**ï¼šæ‰€æœ‰æ“ä½œ O(1)

```python
import random

class RandomizedSet:
    def __init__(self):
        self.vals = []          # å€¼çš„åˆ—è¡¨
        self.idx_map = {}       # å€¼ â†’ ç´¢å¼•

    def insert(self, val):
        if val in self.idx_map:
            return False
        self.idx_map[val] = len(self.vals)
        self.vals.append(val)
        return True

    def remove(self, val):
        if val not in self.idx_map:
            return False
        idx = self.idx_map[val]
        last = self.vals[-1]
        # æŠŠæœ€å¾Œä¸€å€‹å…ƒç´ æ¬åˆ°è¢«åˆªé™¤çš„ä½ç½®
        self.vals[idx] = last
        self.idx_map[last] = idx
        self.vals.pop()
        del self.idx_map[val]
        return True

    def getRandom(self):
        return random.choice(self.vals)
```

---
